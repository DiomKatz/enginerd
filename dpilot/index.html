<!-- Visual Navigation System -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPilot - Advanced Flight Telemetry System | Enginerd</title>
    <meta name="description" content="DPilot: Research-grade flight data logging and ground control system with visual odometry, 50Hz unified state communication, and autonomous flight capabilities.">
    <style>
        :root {
            --dpilot-blue: #1CB5E0;
            --dpilot-blue-light: #4FC3F7;
            --dpilot-blue-dark: #0288D1;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, var(--dpilot-blue) 0%, var(--dpilot-blue-dark) 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
            text-decoration: none;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            margin-right: 12px;
            border-radius: 50%;
            object-fit: cover;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--dpilot-blue);
        }

        .back-btn {
            background: var(--dpilot-blue);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .back-btn:hover {
            background: var(--dpilot-blue-dark);
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            margin-top: 80px;
            padding: 4rem 0;
            text-align: center;
            color: white;
        }

        .hero-logo {
            max-width: 200px;
            height: auto;
            margin-bottom: 2rem;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #fff, var(--dpilot-blue-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .status-badge {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 2rem;
            text-transform: uppercase;
        }

        /* Content Sections */
        .content-section {
            background: white;
            padding: 4rem 0;
        }

        .content-section.alt {
            background: #f8f9fa;
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: #333;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .feature-card h3 {
            color: var(--dpilot-blue);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .feature-card ul {
            list-style: none;
            padding: 0;
        }

        .feature-card li {
            padding: 0.3rem 0;
            position: relative;
            padding-left: 1.5rem;
        }

        .feature-card li::before {
            content: "‚ñ∂";
            position: absolute;
            left: 0;
            color: var(--dpilot-blue);
        }

        /* Specs Grid */
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .spec-card {
            background: linear-gradient(135deg, var(--dpilot-blue) 0%, var(--dpilot-blue-dark) 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(28, 181, 224, 0.3);
        }

        .spec-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .spec-label {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        /* Requirements Grid */
        .requirements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .requirement-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .requirement-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .requirement-card h3 {
            color: var(--dpilot-blue);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .requirement-card ul {
            list-style: none;
            padding: 0;
        }

        .requirement-card li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .requirement-card li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--dpilot-blue);
            font-weight: bold;
        }

        /* Component Cards */
        .component-category {
            margin-bottom: 3rem;
        }

        .component-category h4 {
            color: var(--dpilot-blue);
            border-bottom: 2px solid var(--dpilot-blue);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 1.4rem;
        }

        .component-subgrid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .component-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .component-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }

        .component-card h5 {
            color: var(--dpilot-blue);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .component-card a {
            color: var(--dpilot-blue);
            text-decoration: none;
            font-weight: 500;
        }

        .component-card a:hover {
            text-decoration: underline;
        }

        /* Code Blocks */
        .code-block {
            background: #f1f3f5;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            white-space: pre;
            overflow-x: auto;
            margin: 1rem 0;
            font-size: 0.9rem;
            border-left: 4px solid var(--dpilot-blue);
        }

        /* Doc Sections */
        .doc-section {
            margin-bottom: 4rem;
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .doc-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .doc-details h4 {
            color: var(--dpilot-blue);
            margin-bottom: 1rem;
        }

        /* Tables */
        .specs-table table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .specs-table th, .specs-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .specs-table th {
            background: var(--dpilot-blue);
            color: white;
            font-weight: 600;
        }

        .specs-table tr:hover {
            background: #f8f9fa;
        }

        /* Video Gallery */
        .video-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .video-card {
            background: #f8f9fa;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .video-placeholder {
            background: linear-gradient(45deg, var(--dpilot-blue), var(--dpilot-blue-dark));
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            cursor: pointer;
        }

        .video-info {
            padding: 1.5rem;
        }

        .video-info h4 {
            margin-bottom: 0.5rem;
            color: #333;
        }

        .video-info p {
            color: #666;
            font-size: 0.9rem;
        }

        /* System Images */
        .system-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); /* was 300px, now 450px */
            gap: 2rem;
            margin: 3rem 0;
        }

        .image-card {
            background: #f8f9fa;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer; /* Make the whole card clickable */
            max-width: 900px; /* Optional: limit max width */
            margin: 0 auto;
        }

        .image-placeholder {
            background: linear-gradient(45deg, var(--dpilot-blue), var(--dpilot-blue-dark));
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }

        .image-info {
            padding: 1rem;
        }

        .image-info h5 {
            color: var(--dpilot-blue);
            margin-bottom: 0.5rem;
        }

        .image-info p {
            color: #666;
            font-size: 0.9rem;
        }

        /* Doc Links */
        .doc-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .doc-link {
            background: var(--dpilot-blue);
            color: white;
            padding: 1.5rem;
            border-radius: 10px;
            text-decoration: none;
            transition: all 0.3s ease;
            text-align: center;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .doc-link:hover {
            background: var(--dpilot-blue-dark);
            transform: translateY(-3px);
        }

        .doc-link h4 {
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in:nth-child(1) { animation-delay: 0.1s; }
        .fade-in:nth-child(2) { animation-delay: 0.2s; }
        .fade-in:nth-child(3) { animation-delay: 0.3s; }
        .fade-in:nth-child(4) { animation-delay: 0.4s; }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .specs-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .doc-grid {
                grid-template-columns: 1fr;
            }

            .component-subgrid {
                grid-template-columns: 1fr;
            }

            .system-images {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <a href="../index.html" class="logo">
                <img src="./figs/dpilot_icon_100x100.png" alt="DPilot Logo" class="logo-icon">
                DPilot
            </a>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../index.html#projects">Projects</a></li>
                <li><a href="../index.html#developer">About</a></li>
            </ul>
            <a href="../index.html" class="back-btn">‚Üê Back to Enginerd</a>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <img src="./figs/dpilot.png" alt="DPilot" class="hero-logo" />
                <h1>DPilot</h1>
                <div class="hero-subtitle">Research-Grade Flight Telemetry & Visual Odometry System</div>
                <div class="status-badge" style="background: #2196F3;">Research & Development</div>
                <p>Advanced flight telemetry system with 50Hz unified state communication, real-time web interface, and visual odometry capabilities using custom ESP32 PCB integration and Raspberry Pi AI Camera processing for autonomous flight research.</p>
            </div>
        </section>

        <!-- System Requirements -->
        <section class="content-section alt">
            <div class="container">
                <h2 class="section-title">System Requirements & Development Status</h2>

                <!-- Regulatory Compliance Subsection -->
                <div class="doc-section fade-in" style="margin-bottom: 2.5rem;">
                    <h3>üõ°Ô∏è Regulatory Compliance</h3>
                    <ul>
                        <li><strong>Drone Operations:</strong> Designed for compliance with local UAV/drone regulations (e.g., FAA Part 107 in the US, EASA in the EU). Operators are responsible for adhering to all applicable laws regarding flight altitude, airspace, and registration.</li>
                        <li><strong>RF Transmission:</strong> LoRa modules operate in the 915MHz ISM band (US) or 868MHz (EU). Ensure operation within legal frequency and power limits as specified by the <a href="https://www.fcc.gov/" target="_blank" style="color: var(--dpilot-blue); text-decoration: underline;">FCC</a> (US) or local authorities. Maximum transmission power is set to comply with regional requirements.</li>
                        <li><strong>Encryption:</strong> AES-128 encryption is used for secure communication, following best practices for data privacy and security.</li>
                        <li><strong>Camera Use:</strong> Visual recording and AI camera features must comply with privacy and data protection laws. Obtain necessary permissions for video capture in
                        <li><strong>PCB & Electronics:</strong> Custom PCB design follows RoHS and CE guidelines for electronic safety and environmental compliance.</li>
                    </ul>
                    <p style="font-size: 0.95rem; color: #888; margin-top: 1rem;">
                        <strong>Note:</strong> Always check and follow your local regulations for drone operation, RF transmission, and data collection. The DPilot system is intended for research and educational use.
                    </p>
                </div>
                
                <div class="requirements-grid">
                    <div class="requirement-card fade-in">
                        <h3>üéØ Mission Requirements</h3>
                        <ul>
                            <li>Range: >15 km mission coverage</li>
                            <li>Flight Time: >30 minutes endurance</li>
                            <li>Communication: >5 km line of sight</li>
                            <li>Update Rate: 50Hz unified state feedback</li>
                            <li>Flying speed: >120 km/h capability</li>
                            <li>Visual navigation and SLAM</li>
                        </ul>
                    </div>

                    <div class="requirement-card fade-in">
                        <h3>ü§ñ Development Status</h3>
                        <ul>
                            <li>‚úÖ 50Hz unified state estimation</li>
                            <li>‚úÖ AES-128 encrypted LoRa communication</li>
                            <li>‚úÖ Frame-synchronized video/data logging</li>
                            <li>‚úÖ Web-based ground control interface</li>
                            <li>‚úÖ Custom PCB design (JLCPCB ready)</li>
                            <li>üîÑ Visual odometry implementation</li>
                            <li>üìù AI camera integration (Planned)</li>
                            <li>üìù Full autonomous flight (Future)</li>
                        </ul>
                    </div>

                    <div class="requirement-card fade-in">
                        <h3>‚öôÔ∏è System Architecture</h3>
                        <ul>
                            <li>Total cost: <$300 (including aircraft)</li>
                            <li>Modular & expandable design</li>
                            <li>Cross-platform compatibility</li>
                            <li>Always-on WiFi hotspot access</li>
                            <li>PCB fabrication</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="content-section alt">
            <div class="container">
                <style>
                    /* Override the default grid layout for video-gallery and system-images */
                    .video-gallery, .system-images {
                        display: flex;
                        flex-direction: column;
                        gap: 2rem;
                    }
                    
                    /* Make each card take full width */
                    .video-card, .image-card {
                        width: 100%;
                        max-width: 900px;
                        margin-left: auto;
                        margin-right: auto;
                    }
                </style>
                <h2 class="section-title">The System in some videos </h2>
                <div class="video-gallery">
                    
                    <div class="video-card">
                        <a href="https://www.youtube.com/watch?v=YOUR_VIDEO_ID_1" target="_blank" style="text-decoration: none; color: inherit;">
                            <div class="video-placeholder">‚ñ∂Ô∏è</div>
                            <div class="video-info">
                                <h4>dpilot presentation</h4>
                                <p>Front view of the dpilot system in action.</p>
                            </div>
                        </a>
                    </div>

                    <div class="video-card">
                        <a href="https://www.youtube.com/watch?v=YOUR_VIDEO_ID_2" target="_blank" style="text-decoration: none; color: inherit;">
                            <div class="video-placeholder">‚ñ∂Ô∏è</div>
                            <div class="video-info">
                                <h4>Flying video 1</h4>
                                <p>Video from testing and development.</p>
                            </div>
                        </a>
                    </div>

                    <div class="video-card">
                        <a href="https://www.youtube.com/watch?v=YOUR_VIDEO_ID_3" target="_blank" style="text-decoration: none; color: inherit;">
                            <div class="video-placeholder">‚ñ∂Ô∏è</div>
                            <div class="video-info">
                                <h4>Flying video 2</h4>
                                <p>Video from testing and development.</p>
                            </div>
                        </a>
                    </div>

                </div>
                
                <!-- System Images Section -->
                <h3 style="text-align: center; margin: 3rem 0 2rem; color: #333;">System Architecture & Interface</h3>
                <div class="system-images">
                    <div class="image-card">
                        <img src="./figs/system_architecture_overview.jpg" alt="System Architecture" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="image-placeholder" style="display: none;" onclick="alert('Upload: system_architecture_overview.jpg')">üèóÔ∏è</div>
                        <div class="image-info">
                            <h5>Complete System Architecture</h5>
                            <p> Ground control, telemetry and drone system overview</p>
                            <small style="color: #888; font-style: italic;">File: system_architecture_overview.jpg</small>
                        </div>
                    </div>
                    
                    <div class="image-card">
                        <img src="./figs/web_interface_dashboard.jpg" alt="Web Interface" style="width: 100%; height: 1000px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="image-placeholder" style="display: none;" onclick="alert('Upload: web_interface_dashboard.jpg')">üì±</div>
                        <div class="image-info">
                            <h5>Web Interface Dashboard</h5>
                            <p>Live telemetry dashboard with smartphone-accessible controls and artificial horizon</p>
                            <small style="color: #888; font-style: italic;">File: web_interface_dashboard.jpg</small>
                        </div>
                    </div>
                    
                    <div class="image-card">
                        <img src="./figs/aircraft_integration_complete.jpg" alt="Aircraft Integration" style="width: 100%; height: 600px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="image-placeholder" style="display: none;" onclick="alert('Upload: aircraft_integration_complete.jpg')">‚úàÔ∏è</div>
                        <div class="image-info">
                            <h5>Aircraft Integration</h5>
                            <p>VolantexRC Ranger with 3D printed components and visual odometry camera</p>
                            <small style="color: #888; font-style: italic;">File: aircraft_integration_complete.jpg</small>
                        </div>
                    </div>
                    
                </div>
            </div>
        </section><!-- Component Categori


        <!-- Key Features -->
        <section class="content-section">
            <div class="container">
                <h2 class="section-title">System Features</h2>
                <div class="features-grid">
                    <div class="feature-card fade-in">
                        <h3>üîÑ Unified State Architecture</h3>
                        <ul>
                            <li>50Hz synchronized telemetry transmission</li>
                            <li>60-byte complete state packets</li>
                            <li>Perfect data alignment and timing</li>
                            <li>Zero correlation issues</li>
                            <li>Mission command integration</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card fade-in">
                        <h3>üì° Advanced Communication</h3>
                        <ul>
                            <li>915MHz LoRa with 2-5km range</li>
                            <li>AES-128 encryption security</li>
                            <li>Anti-aliasing data processing</li>
                            <li>Automatic role detection</li>
                            <li>Binary protocol optimization</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card fade-in">
                        <h3>üåê Professional Web Interface</h3>
                        <ul>
                            <li>Always-on WiFi hotspot mode</li>
                            <li>Live telemetry dashboard (1Hz update)</li>
                            <li>Smartphone-accessible control</li>
                            <li>Real-time artificial horizon</li>
                            <li>G-G acceleration diagrams</li>
                            <li>Remote recording management</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card fade-in">
                        <h3>üé¨ Synchronized Video Recording</h3>
                        <ul>
                            <li>Raw and overlay recording modes</li>
                            <li>Perfect frame-CSV synchronization</li>
                            <li>H.264 encoding with telemetry overlay</li>
                            <li>30fps video with flight instruments</li>
                            <li>Automatic file management</li>
                        </ul>
                    </div>

                    <div class="feature-card fade-in">
                        <h3>üß† Visual Navigation System</h3>
                        <ul>
                            <li>Raspberry Pi AI Camera support</li>
                            <li>Sony IMX500 12MP sensor</li>
                            <li>Visual odometry processing</li>
                            <li>Real-time feature detection</li>
                            <li>Position estimation and SLAM</li>
                            <li>Autonomous navigation capability</li>
                        </ul>
                    </div>

                    <div class="feature-card fade-in">
                        <h3>üîß Custom PCB Integration</h3>
                        <ul>
                            <li>Professional 2-layer PCB design</li>
                            <li>JLCPCB manufacturing ready</li>
                            <li>Integrated MPU6050, SD, LoRa</li>
                            <li>3D printed environmental protection</li>
                            <li>Optimized for aircraft installation</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Specifications -->
        <section class="content-section alt">
            <div class="container">
                <h2 class="section-title">Technical Specifications</h2>
                <div class="specs-grid">
                    <div class="spec-card">
                        <div class="spec-value">50Hz</div>
                        <div class="spec-label">Unified State Rate</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-value">10Hz</div>
                        <div class="spec-label">GPS Update Rate</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-value">5km</div>
                        <div class="spec-label">LoRa Range</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-value">AES-128</div>
                        <div class="spec-label">Encryption</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-value">60 bytes</div>
                        <div class="spec-label">State Packet</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-value">&lt;100ms</div>
                        <div class="spec-label">Command Latency</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-value">60 FPS</div>
                        <div class="spec-label">AI Camera Rate</div>
                    </div>
                    <div class="spec-card">
                        <div class="spec-value">12MP</div>
                        <div class="spec-label">Camera Resolution</div>
                    </div>
                </div>

                <!-- Kalman Filter Description -->
                <div class="doc-section fade-in" style="margin-top: 3rem;">
                    <h3>üß† Kalman Filter Attitude Estimation</h3>
                    <p>DPilot employs a sophisticated 5-state Kalman filter for high-precision attitude estimation, fusing accelerometer and gyroscope data to deliver robust roll and pitch measurements even during dynamic flight conditions.</p>
                    
                    <div class="doc-grid">
                        <div class="doc-details">
                            <h4>Filter Architecture</h4>
                            <ul>
                                <li><strong>State Vector:</strong> [roll, pitch, roll_rate, pitch_rate, yaw_rate]</li>
                                <li><strong>Update Rate:</strong> 50Hz with non-uniform time handling</li>
                                <li><strong>Gyro Integration:</strong> Dynamic time-step adjustment</li>
                                <li><strong>Bias Correction:</strong>  Calibrated yaw rate bias removal</li>
                                <li><strong>Noise Models:</strong> Tuned process and measurement covariances</li>
                            </ul>
                        </div>
                        <div class="doc-details">
                            <h4>Innovation Analysis</h4>
                            <ul>
                                <li><strong>Real-time Monitoring:</strong> Innovation factor visualization</li>
                                <li><strong>Statistical Analysis:</strong> Means and standard deviations</li>
                                <li><strong>Performance Target:</strong> &lt;2¬∞ steady-state accuracy</li>
                                <li><strong>Convergence:</strong> Rapid filter stabilization (&lt;1s)</li>
                                <li><strong>Robustness Target:</strong> Maintains accuracy during dynamic flying</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="code-block" style="margin-top: 1.5rem;">
                # Kalman Filter State Prediction Step
                def predict(self, gx, gy, gz, timestamp):
                    # Calculate dt since last update
                    dt = (timestamp - self.last_update).total_seconds()
                    
                    # Current state: [roll, pitch, roll_rate, pitch_rate, yaw_rate]
                    roll, pitch, roll_rate, pitch_rate, yaw_rate = self.state
                    
                    # Update rates directly from gyroscope (with bias correction on yaw)
                    roll_rate_new = gx
                    pitch_rate_new = gy
                    yaw_rate_new = gz  # Bias already corrected in data preparation
                    
                    # Integrate gyroscope rates to update angles
                    roll_new = roll + math.degrees(gx) * dt
                    pitch_new = pitch + math.degrees(gy) * dt
                    
                    # Update state vector
                    self.state = np.array([roll_new, pitch_new, roll_rate_new, pitch_rate_new, yaw_rate_new])
                    
                    # Update state covariance: P = F¬∑P¬∑F^T + Q
                    F = np.eye(5)  # State transition matrix
                    F[0, 2] = dt   # roll affected by roll_rate
                    F[1, 3] = dt   # pitch affected by pitch_rate
                    self.P = F @ self.P @ F.T + self.Q
                    
                    return self.state

                # Kalman Filter Measurement Update Step
                def update_with_accel(self, ax, ay, az):
                    # Calculate attitude from accelerometer
                    roll_acc = math.degrees(math.atan2(ay, math.sqrt(ax*ax + az*az)))
                    pitch_acc = math.degrees(math.atan2(-ax, math.sqrt(ay*ay + az*az)))
                    
                    # Measurement vector
                    z = np.array([roll_acc, pitch_acc])
                    
                    # Measurement model (maps states to measurements)
                    H = np.zeros((2, 5))
                    H[0, 0] = 1.0  # roll_acc corresponds to roll
                    H[1, 1] = 1.0  # pitch_acc corresponds to pitch
                    
                    # Innovation: difference between measurement and prediction
                    y = z - H @ self.state
                    
                    # Kalman gain calculation
                    S = H @ self.P @ H.T + self.R_accel
                    K = self.P @ H.T @ np.linalg.inv(S)
                    
                    # Update state and covariance
                    self.state = self.state + K @ y
                    self.P = (np.eye(5) - K @ H) @ self.P
                    
                    return y  # Return innovation values for analysis</div>
                    
                    <div style="margin-top: 1.5rem;">
                        <p>The filter employs a two-step prediction-correction approach, first integrating gyroscope data for rapid attitude updates, then using accelerometer measurements to correct drift. The innovation factor (difference between predicted and measured values) provides real-time insight into filter performance and convergence.</p>
                        <p>This implementation handles gyroscope bias, non-uniform sampling times, and maintains high accuracy during aggressive maneuvers by carefully tuning the process and measurement noise covariance matrices.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Hardware Components -->
        <section class="content-section">
            <div class="container">
                <h2 class="section-title">Complete Hardware Integration</h2>
                
                <!-- Aircraft Platform -->
                <div class="component-category">
                    <h4>üõ©Ô∏è Aircraft Platform</h4>
                    <div class="component-subgrid">
                        <div class="component-card">
                            <h5>Main Aircraft</h5>
                            <ul>
                                <li><strong>Model:</strong> VolantexRC Ranger 1600/2000</li>
                                <li><strong>Wingspan:</strong> 1600mm/2000mm EPO foam</li>
                                <li><strong>Configuration:</strong> Pusher, PNP ready</li>
                                <li><strong>Weight:</strong> 1500-1700g with telemetry (depending on Battery)</li>
                                <li><a href="https://www.aliexpress.us/item/3256807836207460.html" target="_blank">üîó Source Link</a></li>
                            </ul>
                        </div>
                        <div class="component-card">
                            <h5>Propulsion System</h5>
                            <ul>
                                <li><strong>Motor:</strong> D3536 Brushless 1450KV</li>
                                <li><strong>Propeller:</strong> 8x6 3-blade pusher</li>
                                <li><strong>ESC:</strong> 60A with 4A UBEC</li>
                                <li><strong>Mount:</strong> Custom 3D printed</li>
                                <li><a href="https://www.amazon.com/dp/B084Q62BSK" target="_blank">üîó Motor Link</a></li>
                            </ul>
                        </div>
                        <div class="component-card">
                            <h5>Wing Configuration</h5>
                            <ul>
                                <li><strong>Standard:</strong> Ranger 1600 wings</li>
                                <li><strong>Slow Flight:</strong> Ranger 2000 wings</li>
                                <li><strong>Flaps:</strong> Servo-controlled (2000)</li>
                                <li><strong>Sensors:</strong> Wing loading monitoring</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Computing System -->
                <div class="component-category">
                    <h4>üñ•Ô∏è Computing & Vision System</h4>
                    <div class="component-subgrid">
                        <div class="component-card">
                            <h5>Mission Computer</h5>
                            <ul>
                                <li><strong>CPU:</strong> Raspberry Pi Zero 2 W</li>
                                <li><strong>RAM:</strong> 512MB LPDDR2</li>
                                <li><strong>Storage:</strong> 32GB+ microSD</li>
                                <li><strong>Housing:</strong> Custom 3D printed bucket</li>
                                <li><a href="https://www.aliexpress.us/item/3256803347133898.html" target="_blank">üîó Source Link</a></li>
                            </ul>
                        </div>
                        <div class="component-card">
                            <h5>Camera System</h5>
                            <ul>
                                <li><strong>Standard:</strong> OV5647 5MP Sensor</li>
                                <li><strong>Resolution:</strong> 1080p @ 30fps</li>
                                <li><strong>Upgrade:</strong> AI Camera with IMX500 (optional)</li>
                                <li><strong>Mounting:</strong> Downward + 15¬∞ forward</li>
                                <li><a href="https://www.aliexpress.us/item/3256808030595129.html" target="_blank">üîó Source Link</a></li>
                            </ul>
                        </div>
                        <div class="component-card">
                            <h5>Custom PCB Module</h5>
                            <ul>
                                <li><strong>Design:</strong> 2-layer JLCPCB</li>
                                <li><strong>Controller:</strong> ESP32-S3 + SX1262</li>
                                <li><strong>Sensors:</strong> MPU6050 IMU integrated</li>
                                <li><strong>Storage:</strong> SD card module</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Communication & Displays -->
                <div class="component-category">
                    <h4>üì° Communication & Display</h4>
                    <div class="component-subgrid">
                        <div class="component-card">
                            <h5>Heltec WiFi LoRa 32 V3 (Drone & Ground)</h5>
                            <ul>
                                <li><strong>MCU:</strong> ESP32-S3 dual-core</li>
                                <li><strong>LoRa:</strong> SX1262 @ 915MHz</li>
                                <li><strong>Display:</strong> 0.96" OLED 128x64</li>
                                <li><strong>Power:</strong> USB-C powered</li>
                                <li><strong>Range:</strong> 2-5km line of sight</li>
                                <li><strong>Encryption:</strong> AES-128 security</li>
                                <li><a href="https://heltec.org/project/wifi-lora-32-v3/" target="_blank">üîó Official Documentation</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Power & Storage -->
                <div class="component-category">
                    <h4>‚ö° Power & Storage System</h4>
                    <div class="component-subgrid">
                        <div class="component-card">
                            <h5>Power Regulation</h5>
                            <ul>
                                <li><strong>Converter:</strong> LM2596 DC-DC Buck</li>
                                <li><strong>Output:</strong> 5V regulated @ 3A</li>
                                <li><strong>Input:</strong> ESC UBEC 5V @ 4A</li>
                                <li><strong>Efficiency:</strong> >85% typical</li>
                                <li><a href="https://www.amazon.com/dp/B07VVXF7YX" target="_blank">üîó Source Link</a></li>
                            </ul>
                        </div>
                        <div class="component-card">
                            <h5>Data Storage</h5>
                            <ul>
                                <li><strong>Module:</strong> Micro SD card breakout</li>
                                <li><strong>Interface:</strong> SPI with pins</li>
                                <li><strong>Capacity:</strong> 32GB+ Class 10</li>
                                <li><strong>Integration:</strong> On custom PCB</li>
                                <li><a href="https://www.aliexpress.us/item/3256805098115307.html" target="_blank">üîó Source Link</a></li>
                            </ul>
                        </div>
                        <div class="component-card">
                            <h5>Power Budget</h5>
                            <ul>
                                <li><strong>Pi Zero 2W:</strong> 4W peak with AI camera</li>
                                <li><strong>Custom PCB:</strong> 2W with LoRa TX</li>
                                <li><strong>Total Aircraft:</strong> ~7.5W continuous</li>
                                <li><strong>Flight Time:</strong> >2 hours endurance</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- System Architecture -->
        <section class="content-section alt">
            <div class="container">
                <h2 class="section-title">System Architecture & Data Flow</h2>
                
                <div class="doc-section fade-in">
                    <h3>Complete System Integration</h3>
                    <div class="code-block">Aircraft Sensors ‚Üí Custom PCB ESP32 ‚Üí LoRa ‚Üí Ground ESP32 ‚Üí USB ‚Üí Pi Zero 2W
     ‚Üì                    ‚Üì                                      ‚Üì
     ‚îú‚îÄ IMU (50Hz) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Filtered data ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Raw data
     ‚îú‚îÄ GPS (10Hz) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Position/velocity ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Navigation
     ‚îú‚îÄ ADC (50Hz) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Aircraft systems ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Health monitoring  
     ‚îú‚îÄ AI Camera ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Visual features ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Odometry processing
     ‚îî‚îÄ Status ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Flight status ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí Safety monitoring

Pi Zero 2W Processing:
‚îú‚îÄ H.264 video recording with AI camera (60fps)
‚îú‚îÄ Data logging (CSV) at 50Hz unified state
‚îú‚îÄ Web interface (port 5000) with live telemetry
‚îú‚îÄ WiFi hotspot (field access: dpilot_horizon)
‚îú‚îÄ Visual odometry processing and SLAM
‚îî‚îÄ Mission command generation and planning</div>
                </div>

                <div class="doc-section fade-in">
                    <h3>Custom PCB Integration (JLCPCB)</h3>
                    <div class="doc-grid">
                        <div class="doc-details">
                            <h4>PCB Specifications</h4>
                            <ul>
                                <li><strong>Manufacturer:</strong> JLCPCB Professional</li>
                                <li><strong>Layers:</strong> 2-layer cost-effective</li>
                                <li><strong>Size:</strong> ~50x40mm aircraft fit</li>
                                <li><strong>Finish:</strong> HASL/ENIG RoHS</li>
                                <li><strong>Components:</strong> ESP32-S3, SX1262, MPU6050</li>
                            </ul>
                        </div>
                        <div class="doc-details">
                            <h4>Integration Benefits</h4>
                            <ul>
                                <li>Professional manufacturing quality</li>
                                <li>Reduced wiring complexity</li>
                                <li>Optimized RF performance</li>
                                <li>Integrated sensor fusion</li>
                                <li>3D printed environmental protection</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="doc-section fade-in">
                    <h3>Aircraft Mounting Strategy</h3>
                    <div class="code-block">VolantexRC Ranger 1600/2000 - Optimized Layout:

Nose Section:
‚îú‚îÄ Pi (AI or conventional) Camera; inclined at from 20¬∞ downwards (looking forward) to visual odometry
‚îÇ   ‚îú‚îÄ Visual odometry capability with Sony IMX500
‚îÇ   ‚îú‚îÄ 12MP high-resolution imaging
‚îÇ   ‚îî‚îÄ AI processing for object detection/tracking
‚îú‚îÄ GPS Antenna (clear sky view)
‚îî‚îÄ Custom 3D printed camera mount

Center Fuselage:
‚îú‚îÄ Raspberry Pi Zero 2W (custom 3D printed bucket)
‚îú‚îÄ Custom PCB ESP32 Module (custom 3D printed bucket)
‚îú‚îÄ Power distribution board
‚îú‚îÄ LM2596 Buck converter (single unit)
‚îî‚îÄ Battery bay (LiPo pack)

Pusher Motor Section:
‚îú‚îÄ D3536 Motor (custom 3D printed mount)
‚îú‚îÄ ESC mounting (optimized airflow)
‚îú‚îÄ Vibration isolation (3D printed dampeners)
‚îî‚îÄ Propeller clearance optimization</div>
                </div>
            </div>
        </section>

        <!-- Aircraft Specifications Table -->
        <section class="content-section">
            <div class="container">
                <h2 class="section-title">Aircraft Platform Specifications</h2>
                
                <div class="specs-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Ranger 1600</th>
                                <th>Ranger 2000</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Wingspan</td>
                                <td>1600mm</td>
                                <td>2000mm</td>
                                <td>EPO foam construction</td>
                            </tr>
                            <tr>
                                <td>Length</td>
                                <td>1075mm</td>
                                <td>1075mm</td>
                                <td>Pusher configuration</td>
                            </tr>
                            <tr>
                                <td>Wing Area</td>
                                <td>26.5dm¬≤</td>
                                <td>32.8dm¬≤</td>
                                <td>High aspect ratio</td>
                            </tr>
                            <tr>
                                <td>Flying Weight</td>
                                <td>1200-1500g</td>
                                <td>1200-1500g</td>
                                <td>With telemetry system</td>
                            </tr>
                            <tr>
                                <td>Speed Range</td>
                                <td>Normal operations</td>
                                <td>Slow flight capable</td>
                                <td>Visual odometry optimized</td>
                            </tr>
                            <tr>
                                <td>Flap Control</td>
                                <td>None</td>
                                <td>Servo-controlled</td>
                                <td>Enhanced landing approach</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <!-- System Testing & Performance -->
        <section class="content-section">
            <div class="container">
                <h2 class="section-title">System Testing & Performance</h2>
                
                <div class="doc-section fade-in">
                    <h3>Verified Performance Metrics</h3>
                    <div class="doc-grid">
                        <div class="doc-details">
                            <h4>Communication Performance</h4>
                            <ul>
                                <li><strong>Unified State Rate:</strong> 50Hz ¬±1Hz sustained</li>
                                <li><strong>LoRa Success Rate:</strong> >95% at operational range</li>
                                <li><strong>Command Latency:</strong> <100ms typical</li>
                                <li><strong>Range Testing:</strong> >2km line of sight verified</li>
                                <li><strong>Encryption Overhead:</strong> <5ms per packet</li>
                            </ul>
                        </div>
                        <div class="doc-details">
                            <h4>Data Quality Metrics</h4>
                            <ul>
                                <li><strong>GPS Update Rate:</strong> 10Hz after configuration</li>
                                <li><strong>IMU Data Quality:</strong> <3% duplicate rate</li>
                                <li><strong>Video Synchronization:</strong> Frame-perfect CSV alignment</li>
                                <li><strong>Power Efficiency:</strong> >2 hour flight endurance</li>
                                <li><strong>Temperature Stability:</strong> MPU6050 calibrated</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="doc-section fade-in">
                    <h3>Testing Progression</h3>
                    <div class="component-subgrid">
                        <div class="component-card">
                            <h5>Ground Testing</h5>
                            <ol>
                                <li>Power system verification</li>
                                <li>LoRa communication range test</li>
                                <li>Sensor calibration and alignment</li>
                                <li>50Hz unified state verification</li>
                                <li>AI camera and visual processing</li>
                                <li>Web interface functionality</li>
                                <li>Command response testing</li>
                            </ol>
                        </div>
                        <div class="component-card">
                            <h5>Flight Testing</h5>
                            <ol>
                                <li>Taxi tests with sensor validation</li>
                                <li>Range tests at operational distance</li>
                                <li>Short flights with basic telemetry</li>
                                <li>Extended flights for endurance</li>
                                <li>Visual odometry validation</li>
                                <li>Mission command following</li>
                                <li>Autonomous flight capabilities</li>
                            </ol>
                        </div>
                        <div class="component-card">
                            <h5>Data Analysis</h5>
                            <ol>
                                <li>Telemetry data quality analysis</li>
                                <li>Video-CSV synchronization check</li>
                                <li>Visual odometry accuracy assessment</li>
                                <li>Power consumption optimization</li>
                                <li>Communication reliability metrics</li>
                                <li>System performance profiling</li>
                                <li>Research data validation</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technical Documentation -->
        <section class="content-section alt">
            <div class="container">
                <h2 class="section-title">Technical Documentation</h2>
                <div class="doc-links">
                    <a href="#" class="doc-link" onclick="alert('Complete system documentation including PCB design files, 3D models, and setup instructions - In Development')">
                        <h4>üìö Complete Documentation</h4>
                        <p>System architecture, PCB files, 3D models, and implementation guide</p>
                    </a>
                    
                    <a href="#" class="doc-link" onclick="alert('JLCPCB-ready PCB files with manufacturing specifications - In Development')">
                        <h4>üîß PCB Design Files</h4>
                        <p>Professional PCB design files ready for JLCPCB manufacturing</p>
                    </a>
                    
                    <a href="#" class="doc-link" onclick="alert('3D printable STL files for all custom components - In Development')">
                        <h4>üñ®Ô∏è 3D Print Files</h4>
                        <p>Custom buckets, mounts, and environmental protection components</p>
                    </a>
                    
                    <a href="#" class="doc-link" onclick="alert('Complete software source code and configuration - Available on GitHub')">
                        <h4>üíª Source Code</h4>
                        <p>ESP32 firmware, Python ground control, and web interface code</p>
                    </a>
                </div>
            </div>

                <!-- Ground Control Station Images -->
                <div class="doc-section fade-in">
                    <h3>Ground Control Station</h3>
                    <div class="system-images">
                        <div class="image-card">
                            <img src="./figs/ground_control_desktop.jpg" alt="Desktop GCS" style="width: 100%; height: 600px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div class="image-placeholder" style="display: none;">üñ•Ô∏è</div>
                            <div class="image-info">
                                <h5>Desktop Ground Control</h5>
                                <p>Python application with FPV video overlay</p>
                                <small style="color: #888; font-style: italic;">File: ground_control_desktop.jpg</small>
                            </div>
                        </div>
                        
                        <div class="image-card">
                            <img src="./figs/tft_display_base_station.jpg" alt="TFT Display" style="width: 100%; height: 600px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div class="image-placeholder" style="display: none;">üì∫</div>
                            <div class="image-info">
                                <h5>TFT Base Station Display</h5>
                                <p>2" TFT with real-time G-G diagrams</p>
                                <small style="color: #888; font-style: italic;">File: tft_display_base_station.jpg</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Flow and Communication -->
                <div class="doc-section fade-in">
                    <h3>Communication & Data Flow</h3>
                    <div class="doc-section"></div>
                        <h4>üì° Communication System (ToDo)</h4>
                        <ul>
                            <li>Set up 915MHz LoRa radio communication</li>
                            <li>Implement AES-128 encryption for secure data transfer</li>
                            <li>Test range capability in open field conditions</li>
                            <li>Optimize antenna placement for maximum range</li>
                            <li>Document interference patterns and mitigations</li>
                        </ul>
                        
                        <h4>üìä Data Flow Architecture (ToDo)</h4>
                        <ul>
                            <li>Implement 50Hz unified state communication</li>
                            <li>Optimize packet structure for minimal overhead</li>
                            <li>Develop robust error handling and packet recovery</li>
                            <li>Create bidirectional command framework</li>
                            <li>Set up logging and monitoring of data flow</li>
                        </ul>
                        
                        <h4>üì¶ Packet Structure (ToDo)</h4>
                        <ul>
                            <li>Design 60-byte optimized telemetry format</li>
                            <li>Include CRC validation for data integrity</li>
                            <li>Implement timestamping for synchronization</li>
                            <li>Create command integration within packet structure</li>
                            <li>Document protocol specifications for future reference</li>
                        </ul>
                        
                        <h4>üîí Security Implementation (ToDo)</h4>
                        <ul>
                            <li>Deploy AES-128 encryption across all communications</li>
                            <li>Develop key management system for secure operation</li>
                            <li>Test encryption overhead and performance impact</li>
                            <li>Create failsafe modes for communication loss</li>
                            <li>Document security protocols and best practices</li>
                        </ul>
                    </div>
                    </div>
                </div>

                <!-- Testing and Validation -->
                <div class="doc-section fade-in">
                    <h3>System Testing & Validation</h3>
                    <div class="task-list">
                        <div class="task-card">
                            <div class="task-header">
                                <h5>üß™ Ground Testing</h5>
                                <span class="task-badge">Work in progress</span>
                            </div>
                            <ul>
                                <li>Set up bench testing environment</li>
                                <li>Validate sensor calibration and integration</li>
                                <li>Test unified state communication</li>
                                <li>Verify SD card logging functionality</li>
                                <li>Benchmark power consumption</li>
                            </ul>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-header">
                                <h5>üì° LoRa Range Testing</h5>
                                <span class="task-badge">Work in progress</span>
                            </div>
                            <ul>
                                <li>Perform field testing at varying distances</li>
                                <li>Measure packet success rate vs. distance</li>
                                <li>Test with different antenna configurations</li>
                                <li>Optimize transmission parameters</li>
                                <li>Document maximum reliable range</li>
                            </ul>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-header">
                                <h5>üõ©Ô∏è Flight Testing</h5>
                                <span class="task-badge">Work in progress</span>
                            </div>
                            <ul>
                                <li>Complete Ranger integration with telemetry</li>
                                <li>Perform initial taxi tests</li>
                                <li>Validate in-flight data collection</li>
                                <li>Test visual odometry during flight</li>
                                <li>Verify endurance and performance</li>
                            </ul>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-header">
                                <h5>üìà Data Analysis & Validation</h5>
                                <span class="task-badge">Work in progress</span>
                            </div>
                            <ul>
                                <li>Develop post-flight analysis tools</li>
                                <li>Validate sensor accuracy and precision</li>
                                <li>Compare visual odometry to GPS data</li>
                                <li>Create visualization dashboards</li>
                                <li>Document system performance metrics</li>
                            </ul>
                        </div>
                    </div>

                    <style>
                        .task-list {
                            display: grid;
                            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                            gap: 1.5rem;
                            margin: 2rem 0;
                        }
                        
                        .task-card {
                            background: #f8f9fa;
                            border-radius: 10px;
                            padding: 1.5rem;
                            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
                            border-left: 4px solid var(--dpilot-blue);
                        }
                        
                        .task-header {
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-bottom: 1rem;
                            padding-bottom: 0.5rem;
                            border-bottom: 1px solid #eee;
                        }
                        
                        .task-header h5 {
                            color: var(--dpilot-blue);
                            margin: 0;
                            font-size: 1.1rem;
                        }
                        
                        .task-badge {
                            background: #FFC107;
                            color: #333;
                            padding: 0.2rem 0.5rem;
                            border-radius: 4px;
                            font-size: 0.8rem;
                            font-weight: bold;
                        }
                        
                        .task-card ul {
                            list-style-type: none;
                            padding-left: 0.5rem;
                        }
                        
                        .task-card li {
                            padding: 0.4rem 0;
                            position: relative;
                            padding-left: 1.5rem;
                        }
                        
                        .task-card li:before {
                            content: "‚óª";
                            position: absolute;
                            left: 0;
                            color: var(--dpilot-blue);
                        }
                    </style>
                </div>

                <!-- Assembly and Manufacturing -->
                <div class="doc-section fade-in">
                    <h3>Manufacturing & Assembly Process</h3>
                    <div class="system-images">
                        <div class="image-card">
                            <img src="./figs/custom_pcb_design.jpg" alt="Custom PCB" style="width: 100%; height: 600px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div class="image-placeholder" style="display: none;" onclick="alert('Upload: custom_pcb_design.jpg')">üîß</div>
                            <div class="image-info">
                                <h5>Custom PCB Design</h5>
                                <p>Professional 2-layer PCB with integrated ESP32, LoRa, IMU, and SD card</p>
                                <small style="color: #888; font-style: italic;">File: custom_pcb_design.jpg</small>
                            </div>
                        </div>
                        
                        <div class="image-card">
                            <img src="./figs/MotorMountsSimpleImproved_ForVolantex_BigMotorv5_centered.jpg" alt="3D Printing" style="width: 100%; height: 600px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div class="image-placeholder" style="display: none;">üñ®Ô∏è</div>
                            <div class="image-info">
                                <h5>Motor mount</h5>
                                <p>Custom component printing in PETG</p>
                                <small style="color: #888; font-style: italic;">File: 3d_printing_process.jpg</small>
                            </div>
                        </div>

                        <div class="image-card">
                            <img src="./figs/Lora_TFT.jpg" alt="3D Printing" style="width: 100%; height: 600px; object-fit: cover; border-radius: 8px;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <div class="image-placeholder" style="display: none;">üñ®Ô∏è</div>
                            <div class="image-info">
                                <h5>Ground Control TFTs Displays</h5>
                                <p>Custom component printing in PETG</p>
                                <small style="color: #888; font-style: italic;">File: 3d_printing_process.jpg</small>
                            </div>
                        </div>
                                                
                    </div>
                </div>

        </section>

        <!-- Research Applications -->
        <section class="content-section">
            <div class="container">
                <h2 class="section-title">Research Applications & Future Development</h2>
                
                <div class="features-grid">
                    <div class="feature-card fade-in">
                        <h3>üî¨ Current Research Focus</h3>
                        <ul>
                            <li>Visual odometry algorithm development</li>
                            <li>AI-powered feature detection and matching</li>
                            <li>Real-time SLAM implementation</li>
                            <li>Multi-sensor fusion techniques</li>
                            <li>Autonomous navigation strategies</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card fade-in">
                        <h3>üéØ Future Capabilities</h3>
                        <ul>
                            <li>Full autonomous flight missions</li>
                            <li>Object detection and avoidance</li>
                            <li>Landing site detection and selection</li>
                            <li>Swarm coordination protocols</li>
                            <li>Advanced AI model deployment</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card fade-in">
                        <h3>üìä Data Applications</h3>
                        <ul>
                            <li>Flight dynamics research</li>
                            <li>Aerodynamic performance analysis</li>
                            <li>Wing loading studies</li>
                            <li>Visual navigation validation</li>
                            <li>Autonomous systems development</li>
                        </ul>
                    </div>
                </div>

                <div class="doc-section fade-in" style="margin-top: 3rem;">
                    <h3>Development Roadmap</h3>
                    <div class="code-block">Phase 1: ‚úÖ COMPLETED
‚îú‚îÄ Unified state communication architecture
‚îú‚îÄ 50Hz telemetry with perfect synchronization
‚îú‚îÄ Web-based ground control interface
‚îú‚îÄ Custom PCB design and integration
‚îî‚îÄ Basic visual processing pipeline

Phase 2: üîÑ IN PROGRESS
‚îú‚îÄ Visual odometry implementation
‚îú‚îÄ AI camera integration and testing
‚îú‚îÄ Feature detection optimization
‚îú‚îÄ SLAM algorithm development
‚îî‚îÄ Position estimation validation

Phase 3: üìù PLANNED
‚îú‚îÄ Full autonomous flight capability
‚îú‚îÄ Advanced AI model deployment
‚îú‚îÄ Object detection and avoidance
‚îú‚îÄ Multi-aircraft coordination
‚îî‚îÄ Research publication and validation</div>
                </div>
            </div>
        </section>

        <!-- Add a new section for Hardware Interface Documentation -->
        <section class="content-section alt">
    <div class="container">
        <h2 class="section-title">Hardware Interface Documentation</h2>

        <!-- System Architecture Overview -->
        <div class="doc-section fade-in">
            <h3>üèóÔ∏è System Architecture Overview</h3>
            <div class="architecture-diagram">
                <strong>Drone ESP32 (Heltec WiFi LoRa 32 V3)</strong><br>
                ‚îú‚îÄ‚îÄ I¬≤C Bus 1: MPU6050 IMU (SDA=47, SCL=48)<br>
                <strong>Drone ESP32 (Heltec WiFi LoRa 32 V3)</strong><br>
                ‚îú‚îÄ‚îÄ I¬≤C Bus 1: MPU6050 IMU (SDA=47, SCL=48)<br>
                ‚îú‚îÄ‚îÄ I¬≤C Bus 2: OLED Display (SDA_OLED, SCL_OLED)<br>
                ‚îú‚îÄ‚îÄ SPI Bus 1: LoRa Module (Built-in)<br>
                ‚îú‚îÄ‚îÄ SPI Bus 2: SD Card (CS=26, MOSI=42, SCLK=46, MISO=45)<br>
                ‚îú‚îÄ‚îÄ Serial 1: USB Serial (115200 baud)<br>
                ‚îú‚îÄ‚îÄ Serial 2: GPS Module (RX=19, TX=20, 38400 baud)<br>
                ‚îî‚îÄ‚îÄ ADC: 7-channel analog inputs (A0-A6)<br>
                <br>
                <strong>Base Station ESP32 (Heltec WiFi LoRa 32 V3)</strong><br>
                ‚îú‚îÄ‚îÄ I¬≤C Bus 1: OLED Display (SDA_OLED, SCL_OLED)<br>
                ‚îú‚îÄ‚îÄ SPI Bus 1: LoRa Module (Built-in)<br>
                ‚îú‚îÄ‚îÄ SPI Bus 2: TFT Display (CS=26, DC=45, SCLK=46, MOSI=42)<br>
                ‚îî‚îÄ‚îÄ Serial 1: USB Serial (115200 baud)
            </div>
            <div class="highlight-box">
                <h4>üéØ Automatic Role Detection</h4>
                System automatically determines role based on MPU6050 presence:
                <br><strong>MPU6050 Detected</strong> ‚Üí Drone Mode (sensor collection, SD logging)
                <br><strong>No MPU6050</strong> ‚Üí Base Station Mode (command relay, TFT display)
            </div>
        </div>

        <!-- Pin Assignment Tables -->
        <div class="doc-section fade-in">
            <h3>üì° Complete Pin Assignment Tables</h3>
            <div class="device-card">
                <h4>üöÅ Drone Configuration <span class="status-badge status-drone">DRONE MODE</span></h4>
                <table class="pinout-table">
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Interface</th>
                            <th>ESP32 Pins</th>
                            <th>Configuration</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>MPU6050 IMU</strong></td>
                            <td>I¬≤C Bus 1 (Wire1)</td>
                            <td>SDA=47, SCL=48</td>
                            <td>¬±8g accel, ¬±500¬∞/s gyro, 10Hz filter</td>
                        </tr>
                        <tr>
                            <td><strong>GPS Module</strong></td>
                            <td>Serial2</td>
                            <td>RX=19, TX=20</td>
                            <td>38400 baud, 8N1</td>
                        </tr>
                        <tr>
                            <td><strong>SD Card</strong></td>
                            <td>SPI Bus 2 (spi1)</td>
                            <td>CS=26, MOSI=42, SCLK=46, MISO=45</td>
                            <td>Time-controlled logging, auto file management</td>
                        </tr>
                        <tr>
                            <td><strong>Analog Sensors</strong></td>
                            <td>ADC</td>
                            <td>A0(12), A1(13), A2(14), A3(15), A4(16), A5(17), A6(18)</td>
                            <td>7-channel 8-bit ADC, 0-255 range</td>
                        </tr>
                        <tr>
                            <td><strong>Logging Button</strong></td>
                            <td>Digital Input</td>
                            <td>GPIO 41 (Pull-up)</td>
                            <td>Single-button start/stop logging</td>
                        </tr>
                        <tr>
                            <td><strong>OLED Display</strong></td>
                            <td>I¬≤C Bus 2</td>
                            <td>SDA_OLED, SCL_OLED</td>
                            <td>128x64 status display</td>
                        </tr>
                        <tr>
                            <td><strong>LoRa Module</strong></td>
                            <td>SPI Bus 1 (Built-in)</td>
                            <td>Integrated</td>
                            <td>915MHz, 21dBm, SF7, BW=500kHz, AES-128</td>
                        </tr>
                        <tr>
                            <td><strong>USB Serial</strong></td>
                            <td>Serial (Built-in)</td>
                            <td>USB Port</td>
                            <td>115200 baud, unified state packets (50Hz)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="device-card">
                <h4>üì° Base Station Configuration <span class="status-badge status-base">BASE STATION</span></h4>
                <table class="pinout-table">
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Interface</th>
                            <th>ESP32 Pins</th>
                            <th>Configuration</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>TFT Display</strong></td>
                            <td>SPI Bus 2 (spiTFT)</td>
                            <td>CS=26, DC=45, SCLK=46, MOSI=42</td>
                            <td>240x320 ST7789, G-G diagram, flight instruments</td>
                        </tr>
                        <tr>
                            <td><strong>OLED Display</strong></td>
                            <td>I¬≤C Bus 1</td>
                            <td>SDA_OLED, SCL_OLED</td>
                            <td>128x64 system status</td>
                        </tr>
                        <tr>
                            <td><strong>LoRa Module</strong></td>
                            <td>SPI Bus 1 (Built-in)</td>
                            <td>Integrated</td>
                            <td>915MHz, 21dBm, SF7, BW=500kHz, AES-128</td>
                        </tr>
                        <tr>
                            <td><strong>USB Serial</strong></td>
                            <td>Serial (Built-in)</td>
                            <td>USB Port</td>
                            <td>115200 baud, binary command interface</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Hardware Initialization Code -->
        <div class="doc-section fade-in">
            <h3>üîß Hardware Initialization Code</h3>

            <!-- Drone Mode Initialization -->
            <h4>üöÅ Drone Mode Initialization</h4>
            <div class="code-block">
                // MPU6050 IMU Initialization (I¬≤C Bus 1)
                static const uint8_t SCL_IMU = 48;
                static const uint8_t SDA_IMU = 47;

                Wire1.begin(SDA_IMU, SCL_IMU);
                while (!mpu.begin(MPU6050_I2CADDR_DEFAULT, &Wire1, 0)) {
                    delay(100);
                    Serial.println("Failed to find MPU6050 chip");
                }

                // Configure MPU6050 settings
                mpu.setAccelerometerRange(MPU6050_RANGE_8_G);
                mpu.setGyroRange(MPU6050_RANGE_500_DEG);
                mpu.setFilterBandwidth(MPU6050_BAND_10_HZ);

                // GPS Module Initialization (Serial2)
                #define Serial2RxPin 19
                #define Serial2TxPin 20

                Serial2.begin(38400, SERIAL_8N1, Serial2RxPin, Serial2TxPin);

                // SD Card Initialization (SPI Bus 2)
                #define SD_CS 26
                #define SD_MOSI 42
                #define SD_SCLK 46
                #define SD_MISO 45

                SPIClass spi1;
                spi1.begin(SD_SCLK, SD_MISO, SD_MOSI, SD_CS);
                while (!SD.begin(SD_CS, spi1)) {
                    delay(100);
                    Serial.println("Failed to find SD card");
                }

                // Analog Input Initialization
                #define analogInPin0 12  // A0
                #define analogInPin1 13  // A1
                #define analogInPin2 14  // A2
                #define analogInPin3 15  // A3
                #define analogInPin4 16  // A4
                #define analogInPin5 17  // A5
                #define analogInPin6 18  // A6

                pinMode(A0, INPUT); pinMode(A1, INPUT); pinMode(A2, INPUT);
                pinMode(A3, INPUT); pinMode(A4, INPUT); pinMode(A5, INPUT);
                pinMode(A6, INPUT);

                // Logging Button Initialization
                #define BUTTON_LOG 41
                pinMode(BUTTON_LOG, INPUT_PULLUP);
            </div>

            <!-- Base Station Mode Initialization -->
            <h4>üì° Base Station Mode Initialization</h4>
            <div class="code-block">
                // TFT Display Initialization (SPI Bus 2)
                #define TFT_CS    26
                #define TFT_DC    45
                #define TFT_RST   -1  // No reset pin
                #define TFT_SCLK  46
                #define TFT_MOSI  42

                SPIClass spiTFT = SPIClass(HSPI);
                Adafruit_ST7789 tft = Adafruit_ST7789(&spiTFT, TFT_CS, TFT_DC, TFT_RST);

                // Initialize SPI for TFT
                spiTFT.begin(TFT_SCLK, -1, TFT_MOSI, TFT_CS);

                // Initialize the display
                tft.init(240, 320);  // 240x320 resolution
                tft.setRotation(0);
                tft.fillScreen(ST77XX_BLACK);

                // Initialize default reference command for base station
                initializeDefaultReferenceCommand();
            </div>

            <!-- Shared Components Initialization -->
            <h4>üîÑ Shared Components Initialization</h4>
            <div class="code-block">
                // OLED Display Initialization (Both modes)
                static SSD1306Wire display(0x3c, 500000, SDA_OLED, SCL_OLED, GEOMETRY_128_64, RST_OLED);

                VextON();  // Enable Vext power
                delay(100);
                display.init();
                display.setFont(ArialMT_Plain_10);
                display.clear();

                // LoRa Module Initialization (Both modes)
                #define RF_FREQUENCY 915000000  // Hz
                #define TX_OUTPUT_POWER 21      // dBm
                #define LORA_BANDWIDTH 2         // 500 kHz
                #define LORA_SPREADING_FACTOR 7  // SF7
                #define LORA_CODINGRATE 1        // 4/5

                Radio.Init(&RadioEvents);
                Radio.SetChannel(RF_FREQUENCY);
                Radio.SetTxConfig(MODEM_LORA, TX_OUTPUT_POWER, 0, LORA_BANDWIDTH,
                                  LORA_SPREADING_FACTOR, LORA_CODINGRATE, 8, false,
                                  true, 0, 0, false, 3000);

                // AES-128 Encryption Initialization
                byte key[16] = { 0xAA, 0xBB, 0xCC, 0xDD, 0x11, 0x22, 0x33, 0x44,
                                 0x55, 0x66, 0x77, 0x88, 0x99, 0x00, 0xFE, 0xED };
                aes128.setKey(key, 16);

                // USB Serial Initialization
                Serial.begin(115200);
            </div>
        </div>
    </div>
</section>
    </main>

    <script>
        // Add smooth scrolling and fade-in animations
        document.addEventListener('DOMContentLoaded', function() {
            // Add intersection observer for fade-in animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all fade-in elements
            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });

            // Add click handlers for component links
            document.querySelectorAll('.component-card a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.open(this.href, '_blank');
                });
            });

            // Make image-card images clickable for zoom
            document.querySelectorAll('.image-card img').forEach(img => {
                img.style.cursor = 'zoom-in';
                img.addEventListener('click', function() {
                    const modal = document.getElementById('image-modal');
                    const modalImg = document.getElementById('modal-img');
                    modalImg.src = this.src;
                    modal.style.display = 'flex';
                });
            });
        });

        // Use document-wide click listener with element check
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('image-modal');
            if (modal && (event.target === modal || event.target.id === 'modal-img')) {
                modal.style.display = 'none';
                document.getElementById('modal-img').src = '';
            }
        });
    </script>

    <!-- Image modal for zoom feature -->
    <div id="image-modal" style="display:none; position:fixed; z-index:9999; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.85); align-items:center; justify-content:center;">
        <img id="modal-img" src="" alt="Zoomed" style="max-width:90vw; max-height:90vh; border-radius:12px; box-shadow:0 0 40px #000;">
    </div>
</body>
</html>